import{c as r,r as a,R as e,A as E,m as b,S as v,X as w,L as N,a as M}from"./index-sxCneeDl.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=r("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=r("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=r("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=r("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),j=({inventoryContext:g})=>{const[c,m]=a.useState(!1),[s,y]=a.useState(!1),[n,d]=a.useState(""),[u,h]=a.useState([{role:"bot",text:"Chào bạn! Tôi là Thủ Kho AI. Tôi đang trực chiến, bạn muốn kiểm tra hay hỏi gì về kho không?"}]),[i,x]=a.useState(!1),p=a.useRef(null);a.useEffect(()=>{var t;(t=p.current)==null||t.scrollIntoView({behavior:"smooth"})},[u]);const f=async t=>{if(t.preventDefault(),!n.trim()||i)return;const l=n.trim();d(""),h(o=>[...o,{role:"user",text:l}]),x(!0);const k=await M(l,g);h(o=>[...o,{role:"bot",text:k}]),x(!1)};return e.createElement("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-[100]"},e.createElement(E,null,!c&&e.createElement(b.button,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},exit:{scale:0},onClick:()=>m(!0),className:"w-14 h-14 bg-slate-900 text-white rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform active:scale-95 group"},e.createElement(v,{size:24,className:"group-hover:animate-pulse"})),c&&e.createElement(b.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1,height:s?64:500},exit:{opacity:0,y:20,scale:.95},className:"bg-white rounded-[32px] shadow-2xl border border-black/5 w-[350px] overflow-hidden flex flex-col"},e.createElement("div",{className:"p-4 bg-slate-900 text-white flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(z,{size:20,className:"text-indigo-400"}),e.createElement("span",{className:"font-bold text-sm tracking-tight"},"Thủ Kho AI Trực Chiến")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement("button",{onClick:()=>y(!s),className:"p-1 hover:bg-white/10 rounded-lg"},s?e.createElement(S,{size:16}):e.createElement(I,{size:16})),e.createElement("button",{onClick:()=>m(!1),className:"p-1 hover:bg-white/10 rounded-lg"},e.createElement(w,{size:16})))),!s&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50"},u.map((t,l)=>e.createElement("div",{key:l,className:`flex ${t.role==="user"?"justify-end":"justify-start"} `},e.createElement("div",{className:`max - w - [85 %] p - 3 rounded - 2xl text - sm leading - relaxed ${t.role==="user"?"bg-black text-white rounded-br-none":"bg-white text-slate-700 border border-black/5 rounded-bl-none shadow-sm"} `},t.text))),i&&e.createElement("div",{className:"flex justify-start italic text-slate-400 text-xs"},e.createElement(N,{size:12,className:"animate-spin mr-1"})," AI đang soạn câu trả lời..."),e.createElement("div",{ref:p})),e.createElement("form",{onSubmit:f,className:"p-4 border-t border-black/5 flex gap-2"},e.createElement("input",{value:n,onChange:t=>d(t.target.value),placeholder:"Hỏi AI về kho hàng...",className:"flex-1 border-none bg-slate-100 rounded-xl px-4 py-2 text-sm focus:ring-0"}),e.createElement("button",{type:"submit",disabled:!n.trim()||i,className:"bg-black text-white p-2 rounded-xl disabled:opacity-50"},e.createElement(A,{size:18})))))))};export{j as default};
