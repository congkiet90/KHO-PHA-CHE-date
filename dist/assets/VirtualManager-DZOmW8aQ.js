import{c as l,r as t,j as e,A as k,m as b,S as v,X as w,L as N,a as M}from"./index-DCfQmsnG.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=l("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=l("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=l("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=l("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),L=({inventoryContext:g})=>{const[c,d]=t.useState(!1),[a,y]=t.useState(!1),[i,x]=t.useState(""),[h,m]=t.useState([{role:"bot",text:"Chào bạn! Tôi là Thủ Kho AI. Tôi đang trực chiến, bạn muốn kiểm tra hay hỏi gì về kho không?"}]),[r,u]=t.useState(!1),p=t.useRef(null);t.useEffect(()=>{var s;(s=p.current)==null||s.scrollIntoView({behavior:"smooth"})},[h]);const f=async s=>{if(s.preventDefault(),!i.trim()||r)return;const n=i.trim();x(""),m(o=>[...o,{role:"user",text:n}]),u(!0);const j=await M(n,g);m(o=>[...o,{role:"bot",text:j}]),u(!1)};return e.jsx("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-[100]",children:e.jsxs(k,{children:[!c&&e.jsx(b.button,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},exit:{scale:0},onClick:()=>d(!0),className:"w-14 h-14 bg-slate-900 text-white rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform active:scale-95 group",children:e.jsx(v,{size:24,className:"group-hover:animate-pulse"})}),c&&e.jsxs(b.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1,height:a?64:500},exit:{opacity:0,y:20,scale:.95},className:"bg-white rounded-[32px] shadow-2xl border border-black/5 w-[350px] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 bg-slate-900 text-white flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{size:20,className:"text-indigo-400"}),e.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Thủ Kho AI Trực Chiến"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>y(!a),className:"p-1 hover:bg-white/10 rounded-lg",children:a?e.jsx(S,{size:16}):e.jsx(I,{size:16})}),e.jsx("button",{onClick:()=>d(!1),className:"p-1 hover:bg-white/10 rounded-lg",children:e.jsx(w,{size:16})})]})]}),!a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50",children:[h.map((s,n)=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"} `,children:e.jsx("div",{className:`max - w - [85 %] p - 3 rounded - 2xl text - sm leading - relaxed ${s.role==="user"?"bg-black text-white rounded-br-none":"bg-white text-slate-700 border border-black/5 rounded-bl-none shadow-sm"} `,children:s.text})},n)),r&&e.jsxs("div",{className:"flex justify-start italic text-slate-400 text-xs",children:[e.jsx(N,{size:12,className:"animate-spin mr-1"})," AI đang soạn câu trả lời..."]}),e.jsx("div",{ref:p})]}),e.jsxs("form",{onSubmit:f,className:"p-4 border-t border-black/5 flex gap-2",children:[e.jsx("input",{value:i,onChange:s=>x(s.target.value),placeholder:"Hỏi AI về kho hàng...",className:"flex-1 border-none bg-slate-100 rounded-xl px-4 py-2 text-sm focus:ring-0"}),e.jsx("button",{type:"submit",disabled:!i.trim()||r,className:"bg-black text-white p-2 rounded-xl disabled:opacity-50",children:e.jsx(A,{size:18})})]})]})]})]})})};export{L as default};
